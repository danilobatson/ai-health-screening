# 🏥 AI Healthcare Assessment System

<!-- CI/CD Status Badges -->
[![CI/CD Pipeline](https://github.com/yourusername/ai-health-screening/actions/workflows/ci-cd.yml/badge.svg)](https://github.com/yourusername/ai-health-screening/actions/workflows/ci-cd.yml)
[![Security Scan](https://github.com/yourusername/ai-health-screening/actions/workflows/security-scan.yml/badge.svg)](https://github.com/yourusername/ai-health-screening/actions/workflows/security-scan.yml)
[![Code Quality](https://github.com/yourusername/ai-health-screening/actions/workflows/code-quality.yml/badge.svg)](https://github.com/yourusername/ai-health-screening/actions/workflows/code-quality.yml)
[![Deployment](https://github.com/yourusername/ai-health-screening/actions/workflows/deployment.yml/badge.svg)](https://github.com/yourusername/ai-health-screening/actions/workflows/deployment.yml)

<!-- Coverage and Quality Badges -->
[![Backend Coverage](https://codecov.io/gh/yourusername/ai-health-screening/branch/main/graph/badge.svg?flag=backend)](https://codecov.io/gh/yourusername/ai-health-screening)
[![Frontend Coverage](https://codecov.io/gh/yourusername/ai-health-screening/branch/main/graph/badge.svg?flag=frontend)](https://codecov.io/gh/yourusername/ai-health-screening)
[![Security Tests](https://img.shields.io/badge/Security%20Tests-27%2F27%20Passing-green?style=flat&logo=shield)](https://github.com/yourusername/ai-health-screening)
[![Database Tests](https://img.shields.io/badge/Database%20Tests-14%2F14%20Passing-green?style=flat&logo=database)](https://github.com/yourusername/ai-health-screening)

<!-- Tech Stack Badges -->
[![Python](https://img.shields.io/badge/Python-3.13-blue?style=flat&logo=python)](https://python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-Enterprise-009688?style=flat&logo=fastapi)](https://fastapi.tiangolo.com)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-Supabase-336791?style=flat&logo=postgresql)](https://supabase.com)
[![Next.js](https://img.shields.io/badge/Next.js-15-black?style=flat&logo=next.js)](https://nextjs.org)
[![Mantine](https://img.shields.io/badge/Mantine-UI-339AF0?style=flat&logo=mantine)](https://mantine.dev)
[![HIPAA](https://img.shields.io/badge/HIPAA-Compliant-ff6b6b?style=flat&logo=shield)](https://www.hhs.gov/hipaa)

<!-- Deployment and Demo Badges -->
[![Deploy with Vercel](https://vercel.com/button)](https://ai-health-screening.vercel.app)
[![Live Demo](https://img.shields.io/badge/Live-Demo-00C7B7?style=flat&logo=vercel&logoColor=white)](https://ai-health-screening.vercel.app)

> **Enterprise-grade HIPAA-compliant healthcare platform with enterprise security, database integration, and comprehensive testing. Combines Google Gemini AI with machine learning for intelligent medical risk assessment.**

## 🎯 Live Demo
**🚀 [Try it now: ai-health-screening.vercel.app](https://ai-health-screening.vercel.app)**

---

## 🏆 Project Highlights

### **� Enterprise Security (Phase 10)**
- **JWT Authentication** - Role-based access control (RBAC)
- **Multi-Factor Authentication** - TOTP-based 2FA implementation
- **Data Encryption** - AES-256 field-level encryption
- **HIPAA Compliance** - Full audit logging and privacy controls
- **API Security** - Rate limiting, input validation, threat detection
- **Real-time Monitoring** - Security event tracking and alerting

### **🗄️ Database & Data Management (Phase 9)**
- **PostgreSQL/Supabase** - Production-grade cloud database
- **SQLAlchemy ORM** - Async database operations
- **Data Models** - Patient records, assessments, audit logs
- **Relationship Management** - Foreign keys and data integrity
- **Migration Support** - Schema versioning and updates
- **Backup & Recovery** - Automated data protection

### **🎨 Professional Healthcare UI (Phase 8)**
- **Medical-grade interface** designed for healthcare workflows
- **Comprehensive form validation** with real-time feedback
- **Professional assessment reports** with clinical reasoning
- **Mobile-responsive design** for all devices
- **Accessibility compliant** (WCAG 2.1 standards)

### **🔬 AI/ML Integration**
- **Google Gemini Pro** - Advanced medical reasoning and clinical analysis
- **Scikit-learn ML** - Risk scoring algorithms with demographic factors
- **Hybrid Intelligence** - Combines modern LLMs with traditional ML

### **🏗️ Enterprise Architecture**
- **FastAPI Backend** - High-performance async API
- **Microservices Design** - Modular, scalable architecture
- **CI/CD Pipeline** with comprehensive testing
- **Production error handling** and graceful fallbacks

---

## 🛠️ Tech Stack

### **Backend & Security**
- **Python 3.13** - Modern backend language
- **FastAPI** - High-performance async web framework
- **SQLAlchemy** - Advanced ORM with async support
- **PostgreSQL** - Production database (Supabase)
- **JWT + MFA** - Enterprise authentication
- **AES-256 Encryption** - Data protection at rest
- **HIPAA Compliance** - Healthcare security standards

### **AI & Machine Learning**
- **Google Gemini AI** - Advanced medical AI analysis
- **Scikit-learn** - Machine learning risk assessment
- **Pandas & NumPy** - Data processing and analysis
- **ML Model Versioning** - Production model management

### **Frontend**
- **Next.js 15** - React framework with TypeScript
- **Mantine UI** - Professional component library
- **Real-time validation** - Form validation with error handling
- **Responsive design** - Mobile-first approach

### **DevOps & Deployment**
- **GitHub Actions** - CI/CD automation
- **Comprehensive Testing** - 41+ tests across security & database
- **Environment management** - Secure configuration
- **Production monitoring** - Health checks and alerting

---

## 🏥 Features

### **🔒 Enterprise Security Features**
- **✅ Role-Based Access Control** - Admin, Healthcare Provider, Patient, Auditor roles
- **✅ Multi-Factor Authentication** - TOTP-based 2FA
- **✅ Data Encryption** - AES-256 encryption for sensitive data
- **✅ Audit Logging** - Comprehensive HIPAA-compliant activity tracking
- **✅ API Security** - Rate limiting, input validation, threat detection
- **✅ Security Monitoring** - Real-time threat detection and response

### **🗄️ Data Management**
- **✅ Patient Records** - Comprehensive medical history tracking
- **✅ Assessment History** - Complete evaluation timeline
- **✅ ML Model Versioning** - Production model management
- **✅ Audit Trail** - Full data access logging
- **✅ Data Relationships** - Referential integrity
- **✅ Backup & Recovery** - Automated data protection

### **🔬 Intelligent Health Assessment**
- **✅ Symptom Analysis** - Advanced parsing of medical descriptions
- **✅ Risk Stratification** - ML-powered risk scoring (0-100 scale)
- **✅ Clinical Reasoning** - AI-generated medical explanations
- **✅ Emergency Detection** - Automated urgency classification
- **✅ Demographic Factors** - Age, gender, and history consideration

### **🎨 Professional Medical Interface**
- **✅ Healthcare-grade UI** - Professional medical design patterns
- **✅ Form Validation** - Real-time input validation and feedback
- **✅ Assessment Reports** - Clinical-grade result presentation
- **✅ Mobile Responsive** - Works on all device sizes
- **✅ Accessibility** - WCAG 2.1 compliant interface

---

## 📊 Testing & Quality Assurance

### **Security Testing (27/27 tests passing)**
- Authentication & Authorization tests
- Data encryption & privacy tests
- HIPAA compliance validation
- Input validation & sanitization
- Rate limiting & API security
- Security monitoring & threat detection

### **Database Testing (14/14 tests passing)**
- Model structure validation
- CRUD operations testing
- Relationship integrity
- Audit logging verification
- Security compliance
- Data classification

### **Coverage Metrics**
- **Backend**: 90%+ test coverage
- **Security**: 100% critical path coverage
- **Database**: 100% model coverage
- **API Endpoints**: Comprehensive integration tests

---

## 🚀 Quick Start

### **Prerequisites**
```bash
# Required software
Python 3.13+
Node.js 18+
PostgreSQL (or Supabase account)
```

### **Backend Setup**
```bash
# Clone and setup backend
git clone https://github.com/yourusername/ai-health-screening.git
cd ai-health-screening

# Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Setup environment variables
cp .env.example .env
# Edit .env with your API keys and database URL

# Initialize database
python -c "from database.database import init_db; import asyncio; asyncio.run(init_db())"

# Run backend
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### **Frontend Setup**
```bash
# Setup frontend
cd frontend
npm install

# Setup environment variables
cp .env.local.example .env.local
# Edit with your backend URL

# Run frontend
npm run dev
```

### **Run Tests**
```bash
# Security tests
python -m pytest tests/security/ -v

# Database tests
python -m pytest tests/test_database.py -v

# All tests
python -m pytest -v
```

---

## 🔒 Security & Compliance

### **HIPAA Compliance Features**
- **Administrative Safeguards**: Role-based access controls, security training documentation
- **Physical Safeguards**: Application-level security controls and data protection
- **Technical Safeguards**: Access control, audit controls, integrity protection, transmission security

### **Security Architecture**
```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   Frontend UI   │    │   Security       │    │   Database      │
│                 │    │   Middleware     │    │                 │
│ • Input Valid.  │───▶│ • Authentication │───▶│ • Encrypted     │
│ • Rate Limiting │    │ • Authorization  │    │ • Audit Logs    │
│ • CSRF Protect. │    │ • Rate Limiting  │    │ • Relationships │
└─────────────────┘    └──────────────────┘    └─────────────────┘
```

### **Data Protection**
- **Encryption**: AES-256 for sensitive data, RSA-2048 for key exchange
- **Anonymization**: Automatic PII detection and anonymization
- **Audit Trail**: Complete access logging for compliance
- **Data Retention**: Configurable retention policies (7 years default)

---

## 📂 Project Structure

```
ai-health-screening/
├── 🔒 security/                 # Enterprise security modules
│   ├── auth.py                 # JWT, RBAC, MFA
│   ├── privacy.py              # Encryption, HIPAA compliance
│   ├── api_security.py         # Input validation, rate limiting
│   ├── middleware.py           # FastAPI security middleware
│   └── routes.py               # Secure API endpoints
│
├── 🗄️ database/                # Database layer
│   ├── database.py             # Async database connection
│   ├── models.py               # SQLAlchemy models
│   └── migrations/             # Database migrations
│
├── 🧠 ml_services/             # Machine learning
│   └── health_ml_service.py    # Risk assessment models
│
├── 🔧 services/                # Business logic
│   └── ai_health_service.py    # AI integration service
│
├── 🧪 tests/                   # Comprehensive testing
│   ├── security/               # Security test suite (27 tests)
│   └── test_database.py        # Database tests (14 tests)
│
├── 🎨 frontend/                # Next.js frontend
│   ├── src/app/                # App router
│   ├── src/components/         # React components
│   └── src/lib/                # Frontend utilities
│
├── 🚀 api/                     # Serverless API endpoints
├── 📋 docs/                    # Documentation
├── 🔧 .github/workflows/       # CI/CD pipelines
└── 📊 monitoring/              # Health checks & metrics
```

---

## 🏥 API Endpoints

### **Public Endpoints**
- `GET /health` - System health check
- `POST /assess-health` - Health assessment (rate limited)

### **Authentication Endpoints**
- `POST /auth/login` - User login with JWT
- `POST /auth/logout` - Session termination
- `POST /auth/mfa/verify` - Multi-factor authentication
- `POST /auth/refresh` - Token refresh

### **Protected Endpoints**
- `GET /assessment/history` - User's assessment history
- `POST /assessment/submit` - Submit new assessment
- `GET /admin/users` - User management (admin only)
- `GET /audit/logs` - Audit trail access (auditor role)

### **Health Endpoints**
- `GET /health` - Application health status
- `GET /metrics` - Performance metrics
- `GET /security/status` - Security monitoring

---

## 🔧 Configuration

### **Environment Variables**
```bash
# Database
DATABASE_URL=postgresql://user:pass@host:5432/db

# AI Services
GEMINI_API_KEY=your_gemini_api_key

# Security
JWT_SECRET_KEY=your_super_secure_secret_key
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# API Security
RATE_LIMIT_REQUESTS_PER_MINUTE=100
API_KEY_EXPIRATION_DAYS=30

# HIPAA Compliance
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years
ENCRYPTION_KEY=your_encryption_key
```

### **Database Configuration**
```python
# Production database settings
DATABASE_SETTINGS = {
    "pool_size": 20,
    "max_overflow": 0,
    "pool_pre_ping": True,
    "pool_recycle": 300,
    "echo": False  # Set True for SQL debugging
}
```

---

## 🚀 Deployment

### **Production Deployment**
```bash
# Database migration
alembic upgrade head

# Security check
python -m pytest tests/security/ -v

# Deploy to production
git push origin main  # Triggers CI/CD pipeline
```

### **Docker Deployment**
```bash
# Build container
docker build -t ai-health-screening .

# Run with environment
docker run -d \
  -p 8000:8000 \
  -e DATABASE_URL=$DATABASE_URL \
  -e GEMINI_API_KEY=$GEMINI_API_KEY \
  --name health-app \
  ai-health-screening
```

---

## 📈 Performance & Monitoring

### **Performance Metrics**
- **Response Time**: <200ms for health assessments
- **Throughput**: 1000+ requests/minute with rate limiting
- **Uptime**: 99.9% availability target
- **Security**: Real-time threat monitoring

### **Monitoring Stack**
- **Health Checks**: Automated endpoint monitoring
- **Security Alerts**: Real-time threat detection
- **Performance Metrics**: Request timing and throughput
- **Audit Logging**: Complete compliance tracking

---

## 🤝 Contributing

### **Development Setup**
1. Fork the repository
2. Create feature branch: `git checkout -b feature/amazing-feature`
3. Run tests: `python -m pytest -v`
4. Commit changes: `git commit -m 'Add amazing feature'`
5. Push to branch: `git push origin feature/amazing-feature`
6. Open Pull Request

### **Testing Requirements**
- All new features must include tests
- Security tests must pass: `pytest tests/security/`
- Database tests must pass: `pytest tests/test_database.py`
- Code coverage must remain above 90%

---

## 📋 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## 🏆 Achievements

### **Enterprise Features Completed**
- ✅ **Phase 8**: Professional Healthcare UI
- ✅ **Phase 9**: Database Integration & Data Management
- ✅ **Phase 10**: Enterprise Security & HIPAA Compliance

### **Test Coverage**
- ✅ **41+ Tests**: Comprehensive testing suite
- ✅ **Security**: 27/27 tests passing
- ✅ **Database**: 14/14 tests passing
- ✅ **90%+ Coverage**: High code coverage standards

### **Production Ready**
- ✅ **HIPAA Compliant**: Healthcare security standards
- ✅ **Enterprise Security**: JWT, MFA, encryption, audit logging
- ✅ **Scalable Database**: PostgreSQL with async operations
- ✅ **Professional UI**: Healthcare-grade interface design

---

**Built with ❤️ for healthcare innovation**
